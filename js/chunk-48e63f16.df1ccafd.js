(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48e63f16"],{5039:function(t,e,a){},"73d1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:this.$route.meta.navTitle,placeholder:!0},scopedSlots:t._u([{key:"left",fn:function(){return[a("van-icon",{attrs:{name:"arrow-left",color:"black"},on:{click:t.onClickBack}})]},proxy:!0}])})],1)},n=[],i={methods:{onClickBack:function(){this.$router.go(-1)}}},o=i,c=a("c701"),r=Object(c["a"])(o,s,n,!1,null,"7e8b29d6",null);e["a"]=r.exports},"7bf1":function(t,e,a){"use strict";a("5039")},e923:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavTitle"),a("div",{staticClass:"waw_hidden"}),a("div",{staticClass:"waw_person_container"},[a("div",{staticClass:"waw_person_wrapper"},[a("div",{staticClass:"waw_img"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.onChangeImage}}),a("div",{staticClass:"waw_img_title"},[t._v("头像")]),a("div",{staticClass:"waw_img_box",on:{click:function(e){t.showImg=!0}}},[a("img",{attrs:{src:t.PersonMessage.avatar}}),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",[t._v("昵称")]),a("div",{staticClass:"waw_user_box",on:{click:t.onClickChangeNickname}},[a("div",[a("span",[t._v(t._s(t.PersonMessage.nickname))])]),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",[t._v("手机号")]),a("span",{staticClass:"waw_mobile"},[t._v(t._s(t.PersonMessage.mobile))])]),a("div",{staticClass:"waw_person"},[a("div",[t._v("性别")]),a("div",{staticClass:"waw_sex_box",on:{click:t.onClickChangeSex}},[a("span",[t._v(t._s(t.sex))]),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",[t._v("出生日期")]),a("div",{staticClass:"waw_time_box",on:{click:function(e){t.showTime=!0}}},[a("span",[t._v(t._s(t.time))]),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",{staticClass:"waw_city_box"},[t._v("所在城市")]),a("div",{staticClass:"waw_address_box",on:{click:t.onClickCity}},[a("div",[a("span",[t._v(t._s(t.PersonMessage.province_name)+" "+t._s(t.PersonMessage.city_name)+" "+t._s(t.PersonMessage.district_name))])]),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",[t._v("学科")]),a("div",{staticClass:"waw_subject_box",on:{click:t.onClickSubject}},[a("div",t._l(t.subject,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),0),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)]),a("div",{staticClass:"waw_person"},[a("div",[t._v("年级")]),a("div",{staticClass:"waw_class_box",on:{click:function(e){t.showPicker=!0}}},[a("div",[t._v(t._s(t.valueClass))]),a("van-icon",{attrs:{name:"arrow",color:"lightgray"}})],1)])])]),a("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:t.showImg,callback:function(e){t.showImg=e},expression:"showImg"}},[a("div",{staticClass:"waw_popup_box"},[a("div",{staticClass:"waw_popup_wrapper"},[a("p",[t._v("拍照")]),a("p",{on:{click:t.onClickUpdateImage}},[t._v("从手机相册选择")]),a("p",{on:{click:function(e){t.showImg=!1}}},[t._v("取消")])])])]),a("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}},[a("van-datetime-picker",{attrs:{type:"date",title:"选择年月日","min-date":t.minDate,"max-date":t.maxDate},on:{cancel:function(e){t.showTime=!1},confirm:t.onConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),a("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showAddress,callback:function(e){t.showAddress=e},expression:"showAddress"}},[a("van-area",{attrs:{"area-list":t.areaList,value:t.PersonMessage.district_id+""},on:{cancel:function(e){t.showAddress=!1},confirm:t.onClickConfirm,change:t.OnChangeCity}})],1),a("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}}),a("van-popup",{style:{height:"45%"},attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[a("van-picker",{attrs:{columns:t.columns,"show-toolbar":""},on:{cancel:function(e){t.showPicker=!1},confirm:t.onConfirms}})],1)],1)},n=[],i=(a("b4fb"),a("73d1")),o=a("01e2"),c={components:{NavTitle:i["a"]},data:function(){return{sex:"",PersonMessage:[],time:"",Address:localStorage.getItem("Address")||"请选择你的地址",subject:JSON.parse(localStorage.getItem("result"))||["语文"],valueClass:localStorage.getItem("valueClass")||"请选择",showImg:!1,showTime:!1,showAddress:!1,showPicker:!1,minDate:new Date(1980,0,1),maxDate:new Date(2025,10,1),currentDate:new Date(1980,0,1),area:[],areaObj:{},areaObj2:{},areaList:{province_list:{},city_list:{},county_list:{}},columns:["小学一年级","小学二年级","小学三年级","小学四年级","小学五年级","小学六年级","初一","初二","初三","高一","高二","高三"]}},mounted:function(){this.getDate(),this.$ClientAPI.NianClass().then((function(t){})).catch((function(t){console.log(t)}))},methods:{getDate:function(){var t=this;this.$ClientAPI.PersonMessage().then((function(e){console.log(e.data.data),t.PersonMessage=e.data.data,t.time=t.PersonMessage.birthday;var a=e.data.data;0==a.sex?t.sex="男":1==a.sex?t.sex="女":3==a.sex&&(t.sex="保密")}))},onClickUpdateImage:function(){this.$refs.file.click()},onChangeImage:function(){var t=this,e=new FormData;console.log(e),console.log(event),e.append("file",event.target.files[0]),this.$ClientAPI.changeImage(e).then((function(e){t.$ClientAPI.UserChange({avatar:e.data.data.path}).then((function(e){t.getDate(),t.showImg=!1}));setTimeout((function(){o["a"].success("修改头像成功")}),1e3)})).catch((function(t){console.log(t)}))},onClickChangeNickname:function(){this.$router.push({path:"/nickname",query:{name:this.PersonMessage.nickname}})},onClickChangeSex:function(){this.$router.push("/sex")},onConfirm:function(t){var e=this;console.log(t);var a=t.getFullYear(),s=t.getMonth()+1,n=t.getDate()>9?t.getDate():"0"+t.getDate();this.time="".concat(a,"-").concat(s,"-").concat(n),this.$ClientAPI.UserChange({birthday:this.time}).then((function(t){console.log(t),e.getDate(),e.showTime=!1}))},onClickCity:function(){this.showAddress=!0,this.getCity()},OnChangeCity:function(t,e,a){var s=this;switch(a){case 0:this.$ClientAPI.sonArea(e[a].code).then((function(t){s.areaList.city_list=s.getChangeCity(t.data.data);var e=t.data.data;s.$ClientAPI.sonArea(e[0].id).then((function(t){s.areaList.county_list=s.getChangeCity(t.data.data)}))}));break;case 1:this.$ClientAPI.sonArea(e[a].code).then((function(t){s.areaList.county_list=s.getChangeCity(t.data.data)}));break}},getCity:function(){var t=this;this.$ClientAPI.sonArea(0).then((function(e){t.areaList.province_list=t.getChangeCity(e.data.data);var a=e.data.data;t.$ClientAPI.sonArea(t.PersonMessage.province_id?t.PersonMessage.province_id:a[0].id).then((function(e){t.areaList.city_list=t.getChangeCity(e.data.data);var a=e.data.data;t.$ClientAPI.sonArea(t.PersonMessage.city_id?t.PersonMessage.city_id:a[0].id).then((function(e){t.areaList.county_list=t.getChangeCity(e.data.data)}))}))}))},getChangeCity:function(t){for(var e={},a=0;a<t.length;a++)e[t[a].id]=t[a].area_name;return e},onClickConfirm:function(t){var e=this;console.log(t),this.$ClientAPI.UserChange({city_id:t[1].code,district_id:t[2].code,province_id:t[0].code}).then((function(t){console.log(t.data.code),e.getDate()})).catch((function(t){console.log(t)})),this.showAddress=!1},onClickSubject:function(){this.$router.push("/subject")},onConfirms:function(t){this.valueClass=t,localStorage.setItem("valueClass",this.valueClass),this.showPicker=!1}}},r=c,l=(a("7bf1"),a("c701")),d=Object(l["a"])(r,s,n,!1,null,"735b3930",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-48e63f16.df1ccafd.js.map