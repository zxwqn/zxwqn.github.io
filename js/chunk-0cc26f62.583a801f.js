(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cc26f62"],{1041:function(t,e,n){},"513c":function(t,e,n){"use strict";var o=n("1e2c"),a=n("d890"),s=n("e8d6"),r=n("1944"),i=n("faa8"),c=n("2118"),u=n("7063"),l=n("9f67"),f=n("efe2"),m=n("6d60"),p=n("b338").f,h=n("aa6b").f,d=n("d910").f,v=n("c10f").trim,g="Number",w=a[g],b=w.prototype,_=c(m(b))==g,I=function(t){var e,n,o,a,s,r,i,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=v(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+u}for(s=u.slice(2),r=s.length,i=0;i<r;i++)if(c=s.charCodeAt(i),c<48||c>a)return NaN;return parseInt(s,o)}return+u};if(s(g,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var N,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(_?f((function(){b.valueOf.call(n)})):c(n)!=g)?u(new w(I(e)),n,k):I(e)},E=o?p(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;E.length>S;S++)i(w,N=E[S])&&!i(k,N)&&d(k,N,h(w,N));k.prototype=b,b.constructor=k,r(a,g,k)}},7063:function(t,e,n){var o=n("a719"),a=n("50fb");t.exports=function(t,e,n){var s,r;return a&&"function"==typeof(s=e.constructor)&&s!==n&&o(r=s.prototype)&&r!==n.prototype&&a(t,r),t}},"7c69":function(t,e,n){"use strict";n("1041")},b953:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"register_from"},[n("van-form",[n("van-field",{class:1==t.gaoShow?"van-field":"van-field-active",attrs:{name:"用户名",placeholder:"请输入手机号"},on:{click:function(e){return t.gao(1)}},scopedSlots:t._u([{key:"button",fn:function(){return[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"waw_button",attrs:{size:"small"},on:{click:t.getCode}},[t._v("发送验证码")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(t._s(t.count)+" s")])]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{class:2==t.gaoShow?"van-field":"van-field-active",attrs:{name:"短信验证码",placeholder:"请输入短信验证码"},on:{click:function(e){return t.gao(2)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticClass:"register_from_tiaozhuan"},[n("span",[t._v("*未注册的手机号将自动注册")]),n("span",{on:{click:t.toLogins}},[t._v("使用密码登录")])]),n("div",{staticStyle:{margin:"0.8rem","margin-top":"1rem"}},[n("van-button",{attrs:{round:"",block:"",type:"warning"},on:{click:t.onSubmit}},[t._v(" 提交 ")])],1)],1)],1)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_logo"},[n("img",{staticClass:"login_logo_img",attrs:{src:"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png",alt:""}})])}],s=(n("513c"),n("a593")),r=n("01e2");s["default"].use(r["a"]);var i={data:function(){return{username:"",password:"",show:!0,count:"",timer:null,gaoShow:0}},methods:{gao:function(t){this.gaoShow=t},onSubmit:function(){var t=this,e={mobile:Number(this.username),sms_code:Number(this.password),type:2,client:1};this.$ClientAPI.loginGetToken(e).then((function(e){console.log(e);var n=e.data.data.remember_token,o=e.data.data.mobile;localStorage.setItem("mobile",o),localStorage.setItem("token",n);var a=e.data.data.is_new;1==a?t.$router.push("/setPassword"):2==a&&(t.$router.push("/mine"),r["a"].success({message:"登录成功",position:"top"}))})).catch((function(t){console.log(t),r["a"].fail({message:"登录失败",position:"top"})}))},toLogins:function(){this.$router.push({path:"/login"})},getCode:function(){var t=this,e=/^[1]([3-9])[0-9]{9}$/;if(e.test(this.username)){var n=60;if(!this.timer){this.count=n,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=n?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3);var o={mobile:Number(this.username),sms_type:"login"};console.log(o.mobile),this.$ClientAPI.VerificationCode(o).then((function(e){console.log(e);var n=e.data.code;if(console.log(n),200!=n)return Object(r["a"])("".concat(e.data.msg)),void(t.show=!0);r["a"].success({message:"验证码已发送",position:"center"})})).catch((function(t){console.log(t)}))}}else Object(r["a"])({message:"手机号码格式不正确！！！",position:"center"})}}},c=i,u=(n("7c69"),n("c701")),l=Object(u["a"])(c,o,a,!1,null,"6534be35",null);e["default"]=l.exports},c10f:function(t,e,n){var o=n("2732"),a=n("fc8c"),s="["+a+"]",r=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(i,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},fc8c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-0cc26f62.583a801f.js.map